<UserControl
    x:Class="Eventa.Views.Authentication.RegistrationView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:Eventa.Converters;assembly=Eventa"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:Eventa.ViewModels.Authentication;assembly=Eventa"
    d:DesignHeight="950"
    d:DesignWidth="800"
    x:CompileBindings="True"
    x:DataType="vm:RegistrationViewModel"
    mc:Ignorable="d">
    <UserControl.Styles>
        <Style Selector="TextBox">
            <Setter Property="Margin" Value="0,0,0,15" />
            <Setter Property="Padding" Value="12,10" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Background" Value="White" />
            <Setter Property="BorderBrush" Value="#E0E0E0" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="FontFamily" Value="{StaticResource Kadwa}" />
        </Style>
        <Style Selector="TextBox:focus">
            <Setter Property="BorderBrush" Value="#FFB5B5" />
        </Style>
        <Style Selector="TextBlock">
            <Setter Property="TextTrimming" Value="CharacterEllipsis" />
        </Style>
    </UserControl.Styles>
    <UserControl.Resources>
        <converters:StringNotEmptyConverter x:Key="StringNotEmpty" />
        <StreamGeometry x:Key="BackArrow">M685.248 104.704a64 64 0 010 90.496L368.448 512l316.8 316.8a64 64 0 01-90.496 90.496L232.704 557.248a64 64 0 010-90.496l362.048-362.048a64 64 0 0190.496 0z</StreamGeometry>
    </UserControl.Resources>
    <UserControl.Background>
        <LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
            <GradientStop Offset="0" Color="#FCE487" />
            <GradientStop Offset="1" Color="#F9AAA9" />
        </LinearGradientBrush>
    </UserControl.Background>

    <Grid>
        <!--  Main Content  -->
        <ScrollViewer>
            <Grid
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                RowDefinitions="auto, *">
                <!--  Logo/Title  -->
                <TextBlock
                    Grid.Row="0"
                    Margin="0,0,0,20"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    FontFamily="{StaticResource JustAnotherHand}"
                    FontSize="80"
                    Foreground="#FF9999"
                    Text="EVENTA" />

                <!--  Registration Form Card  -->
                <Border
                    Grid.Row="1"
                    Padding="30"
                    Background="White"
                    BoxShadow="0 4 20 0 #30000000"
                    CornerRadius="12">

                    <Grid Width="250" RowDefinitions="auto, *, auto, auto, auto, auto, auto">
                        <!--  Form Title  -->
                        <Grid
                            Grid.Row="0"
                            Margin="0,-10,0,20"
                            ColumnDefinitions="auto, *">
                            <Button
                                Padding="0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Background="Transparent"
                                Command="{Binding BackToMainCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover /template/ ContentPresenter">
                                        <Setter Property="Background" Value="#FCE0E0" />
                                        <Setter Property="Foreground" Value="#FF8181" />
                                        <Setter Property="BorderBrush" Value="#FFB5B5" />
                                    </Style>
                                    <Style Selector="Button:pressed /template/ ContentPresenter">
                                        <Setter Property="Background" Value="#FCE0E0" />
                                        <Setter Property="Foreground" Value="#FF8181" />
                                        <Setter Property="BorderBrush" Value="#FFB5B5" />
                                    </Style>
                                </Button.Styles>
                                <Button.Content>
                                    <PathIcon Data="{StaticResource BackArrow}" Foreground="#FF9999" />
                                </Button.Content>
                            </Button>
                            <TextBlock
                                Grid.Column="1"
                                HorizontalAlignment="Center"
                                FontFamily="{StaticResource Kadwa}"
                                FontSize="24"
                                Foreground="#FF9999"
                                Text="Registration Form">
                                <TextBlock.RenderTransform>
                                    <TranslateTransform Y="1" />
                                </TextBlock.RenderTransform>
                            </TextBlock>
                        </Grid>

                        <Grid Grid.Row="1" RowDefinitions="auto, auto, auto, auto, auto">
                            <!--  Username Field  -->
                            <StackPanel Grid.Row="0">
                                <TextBox
                                    Name="UserNameTextBox"
                                    Text="{Binding UserName, Mode=TwoWay}"
                                    TextChanged="TextBoxRequired_TextChanged"
                                    TextInputOptions.ContentType="Name"
                                    Watermark="Username" />
                                <TextBlock
                                    Name="UserNameRequired"
                                    Margin="0,-60,10,15"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    FontSize="16"
                                    Foreground="#FF9999"
                                    Text="*" />
                            </StackPanel>

                            <!--  Email Field  -->
                            <StackPanel Grid.Row="1">
                                <TextBox
                                    Name="EmailTextBox"
                                    Text="{Binding Email, Mode=TwoWay}"
                                    TextChanged="TextBoxRequired_TextChanged"
                                    TextInputOptions.ContentType="Email"
                                    Watermark="Email" />
                                <TextBlock
                                    Name="EmailRequired"
                                    Margin="0,-60,10,15"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    FontSize="16"
                                    Foreground="#FF9999"
                                    Text="*" />
                            </StackPanel>

                            <!--  Password Field  -->
                            <StackPanel Grid.Row="2">
                                <TextBox
                                    Name="PasswordTextBox"
                                    PasswordChar="●"
                                    Text="{Binding Password, Mode=TwoWay}"
                                    TextChanged="TextBoxRequired_TextChanged"
                                    TextInputOptions.ContentType="Password"
                                    Watermark="Password" />
                                <TextBlock
                                    Name="PasswordRequired"
                                    Margin="0,-60,10,15"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    FontSize="16"
                                    Foreground="#FF9999"
                                    Text="*" />
                            </StackPanel>

                            <!--  Confirm Password Field  -->
                            <StackPanel Grid.Row="3">
                                <TextBox
                                    Name="ConfirmPasswordTextBox"
                                    PasswordChar="●"
                                    Text="{Binding ConfirmPassword, Mode=TwoWay}"
                                    TextChanged="TextBoxRequired_TextChanged"
                                    TextInputOptions.ContentType="Password"
                                    Watermark="Confirm Password" />
                                <TextBlock
                                    Name="ConfirmPasswordRequired"
                                    Margin="0,-60,10,15"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    FontSize="16"
                                    Foreground="#FF9999"
                                    Text="*" />
                            </StackPanel>

                            <!--  Organization Field  -->
                            <StackPanel Grid.Row="4">
                                <TextBox
                                    Name="OrganizationTextBox"
                                    Text="{Binding OrganizationName, Mode=TwoWay}"
                                    TextInputOptions.ContentType="Name"
                                    Watermark="Organization name" />
                            </StackPanel>
                        </Grid>

                        <!--  Error Text  -->
                        <ScrollViewer
                            Grid.Row="2"
                            MaxWidth="200"
                            MaxHeight="100"
                            ScrollViewer.IsScrollChainingEnabled="False">
                            <TextBlock
                                FontFamily="{StaticResource Kadwa}"
                                Foreground="#FF8181"
                                IsVisible="{Binding ErrorMessage, Converter={StaticResource StringNotEmpty}}"
                                Text="{Binding ErrorMessage}"
                                TextAlignment="Center"
                                TextWrapping="WrapWithOverflow" />
                        </ScrollViewer>

                        <!--  Continue Button  -->
                        <Button
                            Name="ContinueButton"
                            Grid.Row="3"
                            Margin="20,20,20,20"
                            Padding="0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Background="Transparent"
                            BorderBrush="#FFB5B5"
                            BorderThickness="2"
                            Command="{Binding RegisterCommand}"
                            CornerRadius="8"
                            Cursor="Hand"
                            FontFamily="{StaticResource Kadwa}"
                            FontSize="16"
                            Foreground="#FF8181">
                            <Button.Styles>
                                <Style Selector="Button:pointerover /template/ ContentPresenter">
                                    <Setter Property="Background" Value="#FCE0E0" />
                                    <Setter Property="Foreground" Value="#FF8181" />
                                    <Setter Property="BorderBrush" Value="#FFB5B5" />
                                </Style>
                                <Style Selector="Button:pressed /template/ ContentPresenter">
                                    <Setter Property="Background" Value="#FCE0E0" />
                                    <Setter Property="Foreground" Value="#FF8181" />
                                    <Setter Property="BorderBrush" Value="#FFB5B5" />
                                </Style>
                            </Button.Styles>
                            <Button.Content>
                                <TextBlock Margin="0,4,0,0" Text="Continue" />
                            </Button.Content>
                        </Button>

                        <!-- OR Divider -->
                        <Grid
                            Grid.Row="4"
                            Margin="20,0,20,20"
                            ColumnDefinitions="*, auto, *">
                            <Border
                                Grid.Column="0"
                                Height="1"
                                VerticalAlignment="Center"
                                Background="#E0E0E0" />
                            <TextBlock
                                Grid.Column="1"
                                Margin="10,0"
                                FontFamily="{StaticResource Kadwa}"
                                FontSize="12"
                                Foreground="#999999"
                                Text="OR" />
                            <Border
                                Grid.Column="2"
                                Height="1"
                                VerticalAlignment="Center"
                                Background="#E0E0E0" />
                        </Grid>

                        <!-- Register with Google Button -->
                        <Button
                            Name="GoogleRegisterButton"
                            Grid.Row="5"
                            Margin="20,0,20,20"
                            Padding="12,8"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Background="White"
                            Command="{Binding GoogleRegisterCommand}"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            CornerRadius="8"
                            Cursor="Hand">
                            <Button.Styles>
                                <Style Selector="Button:pointerover /template/ ContentPresenter">
                                    <Setter Property="Background" Value="#F8F8F8" />
                                    <Setter Property="BorderBrush" Value="#D0D0D0" />
                                </Style>
                                <Style Selector="Button:pressed /template/ ContentPresenter">
                                    <Setter Property="Background" Value="#F0F0F0" />
                                    <Setter Property="BorderBrush" Value="#C0C0C0" />
                                </Style>
                            </Button.Styles>
                            <Button.Content>
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <!-- Google Logo SVG -->
                                    <Viewbox Width="18" Height="18">
                                        <Canvas Width="24" Height="24">
                                            <Path Data="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" Fill="#4285F4"/>
                                            <Path Data="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" Fill="#34A853"/>
                                            <Path Data="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" Fill="#FBBC05"/>
                                            <Path Data="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" Fill="#EA4335"/>
                                        </Canvas>
                                    </Viewbox>
                                    <TextBlock
                                        FontFamily="{StaticResource Kadwa}"
                                        FontSize="14"
                                        Foreground="#3C4043"
                                        Text="Register with Google" />
                                </StackPanel>
                            </Button.Content>
                        </Button>

                        <!--  Login Link  -->
                        <Grid
                            Grid.Row="6"
                            Margin="0,0,0,-20"
                            HorizontalAlignment="Center"
                            RowDefinitions="*, *">
                            <TextBlock
                                Grid.Row="0"
                                FontFamily="{StaticResource Kadwa}"
                                FontSize="13"
                                Foreground="#666666"
                                Text="Already have an account?" />
                            <HyperlinkButton
                                Name="LoginLink"
                                Grid.Row="1"
                                HorizontalAlignment="Center"
                                Command="{Binding LoginLinkCommand}"
                                Cursor="Hand"
                                FontFamily="{StaticResource Kadwa}"
                                FontSize="13"
                                Foreground="#FF9999">
                                <HyperlinkButton.Styles>
                                    <Style Selector="HyperlinkButton">
                                        <Setter Property="TextBlock.TextDecorations" />
                                    </Style>
                                    <Style Selector="HyperlinkButton:pointerover /template/ ContentPresenter">
                                        <Setter Property="Background" Value="Transparent" />
                                        <Setter Property="Foreground" Value="#FF8181" />
                                        <Setter Property="BorderBrush" Value="Transparent" />
                                        <Setter Property="TextBlock.TextDecorations" Value="Underline" />
                                    </Style>
                                    <Style Selector="HyperlinkButton:pressed /template/ ContentPresenter">
                                        <Setter Property="Background" Value="Transparent" />
                                        <Setter Property="Foreground" Value="#FF8181" />
                                        <Setter Property="BorderBrush" Value="Transparent" />
                                        <Setter Property="TextBlock.TextDecorations" Value="Underline" />
                                    </Style>
                                </HyperlinkButton.Styles>
                                <HyperlinkButton.Content>
                                    <TextBlock Text="Login here..." />
                                </HyperlinkButton.Content>
                            </HyperlinkButton>
                        </Grid>

                    </Grid>
                </Border>

            </Grid>
        </ScrollViewer>
    </Grid>
</UserControl>