<UserControl
    x:Class="Eventa.Views.Authentication.EmailVerifyView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:Eventa.Controls;assembly=Eventa"
    xmlns:converters="clr-namespace:Eventa.Converters;assembly=Eventa"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:Eventa.ViewModels.Authentication;assembly=Eventa"
    d:DesignHeight="750"
    d:DesignWidth="800"
    x:DataType="vm:EmailVerifyViewModel"
    mc:Ignorable="d">
    <UserControl.Styles>
        <Style Selector="TextBox">
            <Setter Property="Background" Value="White" />
            <Setter Property="MinWidth" Value="44" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="CornerRadius" Value="0" />
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled" />
            <Setter Property="FontFamily" Value="{StaticResource Kadwa}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
        <Style Selector="TextBox:focus">
            <Setter Property="BorderBrush" Value="#ff0000" />
        </Style>
        <Style Selector="TextBlock">
            <Setter Property="TextTrimming" Value="CharacterEllipsis" />
        </Style>
    </UserControl.Styles>
    <UserControl.Resources>
        <converters:StringNotEmptyConverter x:Key="StringNotEmpty" />
    </UserControl.Resources>
    <Border>
        <Border.Background>
            <LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
                <GradientStop Offset="0" Color="#FCE487" />
                <GradientStop Offset="1" Color="#F9AAA9" />
            </LinearGradientBrush>
        </Border.Background>

        <!--  Main Content  -->
        <Grid
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            RowDefinitions="auto, *">
            <!--  Logo/Title  -->
            <TextBlock
                Grid.Row="0"
                Margin="0,0,0,20"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                FontFamily="{StaticResource JustAnotherHand}"
                FontSize="80"
                Foreground="#FF9999"
                Text="EVENTA" />

            <!--  Verification Form Card  -->
            <Border
                Grid.Row="1"
                Width="350"
                Padding="20"
                Background="White"
                BoxShadow="0 4 20 0 #30000000"
                CornerRadius="12">

                <Grid RowDefinitions="auto, auto, auto, auto, auto, auto, auto, auto, auto">
                    <!--  Form Title  -->
                    <TextBlock
                        Grid.Row="0"
                        Margin="0,0,0,10"
                        HorizontalAlignment="Center"
                        FontFamily="{StaticResource Kadwa}"
                        FontSize="24"
                        Foreground="#FF9999"
                        Text="Verify Your Email" />

                    <!--  Separator Line  -->
                    <Border
                        Grid.Row="1"
                        Height="1"
                        Margin="60,0,60,20"
                        Background="#E0E0E0" />

                    <!--  Description Text  -->
                    <TextBlock
                        Grid.Row="2"
                        Margin="0,0,0,5"
                        HorizontalAlignment="Center"
                        FontFamily="{StaticResource Kadwa}"
                        FontSize="14"
                        Foreground="#333333"
                        Text="A verification code has been sent to"
                        TextAlignment="Center"
                        TextWrapping="Wrap" />

                    <!--  Email Display  -->
                    <TextBlock
                        Name="EmailDisplay"
                        Grid.Row="3"
                        Margin="0,0,0,20"
                        HorizontalAlignment="Center"
                        FontFamily="{StaticResource Kadwa}"
                        FontSize="14"
                        Foreground="#FF9999"
                        Text="{Binding Email}"
                        TextAlignment="Center" />

                    <!--  Instruction Text  -->
                    <TextBlock
                        Grid.Row="4"
                        Margin="0,0,0,20"
                        HorizontalAlignment="Center"
                        FontFamily="{StaticResource Kadwa}"
                        FontSize="13"
                        Foreground="#666666"
                        LineHeight="20"
                        Text="Please check your inbox and enter the verification code below to verify your email address"
                        TextAlignment="Center"
                        TextWrapping="Wrap" />

                    <!--  Verification Code Input  -->
                    <controls:OtpInput
                        Grid.Row="5"
                        Margin="0,0,0,30"
                        Code="{Binding Code, Mode=TwoWay}" />

                    <!--  Error Text  -->
                    <ScrollViewer
                        Grid.Row="6"
                        MaxWidth="200"
                        MaxHeight="100">
                        <TextBlock
                            Grid.Row="6"
                            Margin="20,0,20,0"
                            FontFamily="{StaticResource Kadwa}"
                            Foreground="#FF8181"
                            IsVisible="{Binding ErrorMessage, Converter={StaticResource StringNotEmpty}}"
                            Text="{Binding ErrorMessage}"
                            TextAlignment="Center"
                            TextWrapping="WrapWithOverflow" />
                    </ScrollViewer>

                    <!--  Verify Button  -->
                    <Button
                        Name="VerifyButton"
                        Grid.Row="7"
                        Margin="20,20,20,20"
                        Padding="0"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Center"
                        HorizontalContentAlignment="Center"
                        Background="Transparent"
                        BorderBrush="#FFB5B5"
                        BorderThickness="2"
                        Command="{Binding VerifyEmailCommand}"
                        CornerRadius="8"
                        Cursor="Hand"
                        FontFamily="{StaticResource Kadwa}"
                        FontSize="16"
                        Foreground="#FF8181">
                        <Button.Styles>
                            <Style Selector="Button:pointerover /template/ ContentPresenter">
                                <Setter Property="Background" Value="#FCE0E0" />
                                <Setter Property="Foreground" Value="#FF8181" />
                                <Setter Property="BorderBrush" Value="#FFB5B5" />
                            </Style>
                            <Style Selector="Button:pressed /template/ ContentPresenter">
                                <Setter Property="Background" Value="#FCE0E0" />
                                <Setter Property="Foreground" Value="#FF8181" />
                                <Setter Property="BorderBrush" Value="#FFB5B5" />
                            </Style>
                        </Button.Styles>
                        <Button.Content>
                            <TextBlock Margin="0,4,0,0" Text="Verify" />
                        </Button.Content>
                    </Button>
                    <!--  Action Links  -->
                    <StackPanel
                        Grid.Row="8"
                        HorizontalAlignment="Center"
                        Spacing="5">
                        <HyperlinkButton
                            Name="ChangeEmailLink"
                            HorizontalAlignment="Center"
                            Command="{Binding ChangeEmailCommand}"
                            Cursor="Hand"
                            FontFamily="{StaticResource Kadwa}"
                            FontSize="13"
                            Foreground="#FF9999">
                            <HyperlinkButton.Styles>
                                <Style Selector="HyperlinkButton">
                                    <Setter Property="TextBlock.TextDecorations" />
                                </Style>
                                <Style Selector="HyperlinkButton:pointerover /template/ ContentPresenter">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Foreground" Value="#FF8181" />
                                    <Setter Property="BorderBrush" Value="Transparent" />
                                    <Setter Property="TextBlock.TextDecorations" Value="Underline" />
                                </Style>
                                <Style Selector="HyperlinkButton:pressed /template/ ContentPresenter">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Foreground" Value="#FF8181" />
                                    <Setter Property="BorderBrush" Value="Transparent" />
                                    <Setter Property="TextBlock.TextDecorations" Value="Underline" />
                                </Style>
                            </HyperlinkButton.Styles>
                            <HyperlinkButton.Content>
                                <TextBlock Text="Change email" />
                            </HyperlinkButton.Content>
                        </HyperlinkButton>

                        <HyperlinkButton
                            Name="ResendCodeLink"
                            HorizontalAlignment="Center"
                            Command="{Binding ResendCodeCommand}"
                            Cursor="Hand"
                            FontFamily="{StaticResource Kadwa}"
                            FontSize="13"
                            Foreground="#FF9999">
                            <HyperlinkButton.Styles>
                                <Style Selector="HyperlinkButton">
                                    <Setter Property="TextBlock.TextDecorations" />
                                </Style>
                                <Style Selector="HyperlinkButton:pointerover /template/ ContentPresenter">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Foreground" Value="#FF8181" />
                                    <Setter Property="BorderBrush" Value="Transparent" />
                                    <Setter Property="TextBlock.TextDecorations" Value="Underline" />
                                </Style>
                                <Style Selector="HyperlinkButton:pressed /template/ ContentPresenter">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Foreground" Value="#FF8181" />
                                    <Setter Property="BorderBrush" Value="Transparent" />
                                    <Setter Property="TextBlock.TextDecorations" Value="Underline" />
                                </Style>
                            </HyperlinkButton.Styles>
                            <HyperlinkButton.Content>
                                <TextBlock Text="Resend code" />
                            </HyperlinkButton.Content>
                        </HyperlinkButton>
                    </StackPanel>

                </Grid>
            </Border>

        </Grid>
    </Border>

</UserControl>